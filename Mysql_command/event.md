- 事件 
 create table testtran(      id int primary key,      name varchar(50) not  null default ' ',      balance decimal(10,2) not null default 0.0  );

 - 开始事件 
 start transaction;
 - 创建保存点
 savepoint a0;

 insert into testtran(name)
 value("jack");

 - 没有保存点的时候也可以回滚
 - 这几回滚到初始状态

 - commit 提交事件(游戏退出)
 - 若一个用户1在创建事件之后访问
 - 某个表,它将表中的数据修改了在没有提交的前提下
 - 用户2查寻该到的数据为
 - 用户1没有创建事件前的数据 
 - 因为用户1 没有将修改的结果
 - 进行提交(commit)

- 两个用户同时开始事件(开始游戏)
- 用户1 修改了数据之后在没有
- 提交的前提下,用户2 访问到的
- 是原始的数据,而且在用户1先进行插入的
- 条件下,用户2不能再向表中插入数据(需要拿到写锁)

-  在事件A开始的时候它先拿到了写锁
-  在它没有释放锁的时候其他的用户
-  不能继续往表中插入数据

- 设置事务的隔离级别

- 查看当前的隔离级别

- 设置脏读的方式
set session transaction isolation level read uncommitted;

- 用户A在插入数据之后没有进行提交
- 用户B就已经看到了用户A插入的数据 

-  不可重复读:事件A在读取某条数据还没有
- 结束的条件下,事件B也读取该数据并对其进
- 了修改(导致事件A两次读取的数据是不一样的)
- 这种情况就叫不可重复读


- 事务的性质(ACID)
-  1.原子性:事务是应用中最小的执行单位,
- 事务是应用中不可再分的最小逻辑执行体
-  2.一致性:当某个事务只包含事务成功
- 提交的结果的时候,数据库处于一种一致性状态
- 某个事务尚未完成而被迫终止
-  则修改了的数据已经进入了数据库
- 此时的数据库就处于一种不一致的状态.
-  3.隔离性:各个事务的执行互不干扰,任意
- 一个事务内部操作对其他事务来说都是隔离的
-  4.持久性:一个事务一旦被提交,它对数据库
- 所作的改变都是永久的记录到磁盘中

- 总结()
- InnoDB支持事务,MyISAM 不支持
- InnoDB支持外键,MyISAM 不支持
- InnoDB是聚集索引(数据文件与索引是绑定的),MyISAM 是非聚集索引
- InnoDB不保存表的具体行数,执行select * 的时候需要扫描全表,
- 而MyISAM用一个变量保存整个表的行数 
- 执行上述语句时,只要读出该变量的行数速度快

- InnoDB不支持全文索引,MyISAM 支持
- 查询几率比较高

